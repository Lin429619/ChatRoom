# 7 - 一个 ChatRoom

## 项目需求

### 账号管理

- 实现登录、注册、注销
- 实现找回密码（提高）
- 实现验证码注册/找回（邮件/手机号等）（提高）
- 实现数据加密（提高）

### 好友管理

- 实现好友的添加、删除、查询操作
- 实现显示好友在线状态
- 禁止不存在好友关系的用户间的私聊
- 实现屏蔽好友消息
- 实现好友间聊天

### 群管理

- 实现群组的创建、解散
- 实现用户申请加入群组
- 实现用户查看已加入的群组
- 实现群组成员退出已加入的群组
- 实现群组成员查看群组成员列表
- 实现群主对群组管理员的添加和删除
- 实现群组管理员批准用户加入群组
- 实现群组管理员/群主从群组中移除用户
- 实现群组内聊天功能

### 聊天功能

对于 **私聊和群组** 的聊天功能**均需要**实现：

- 实现查看历史消息记录
- 实现用户间在线聊天
- 实现在线用户对离线用户发送消息，离线用户上线后获得通知
- 实现文件发送的断点续传（提高）
- 实现在线发送文件
- 实现在线用户对离线用户发送文件，离线用户上线后获得通知/接收（提高）
- 实现用户在线时,消息的实时通知
    - 收到好友请求
    - 收到私聊
    - 收到加群申请
    - ...

### 其他要求

- 使用 C++/Java/Golang 编程语言(No C-Language)
- 使用 I/O 多路复用完成本项目
    - C++：Epoll ET 模式
    - Java：Netty 和 NIO 
- 使用数据库完成数据存储
    - C++/Golang：Redis 或 LevelDB
    - Java：MySQL/MariaDB/任意 RDBMS
- 实现图形化界面（超级提高）
- 数据库中数据的存储和取用使用序列化和反序列化完成(Json/Proto等)(提高)
- 撰写用户文档
- 支持大量客户端同时访问
- 实现服务器日志，记录服务器的状态信息
- C/S 双端均支持在 CLI/Web 自行指定 IP:Port
- 实现具有高稳定性的客户端和服务器，防止在用户非法输入时崩溃或异常
    - 实现 TCP 心跳检测
- 界面美观

注：

- 功能和交互逻辑可参考 QQ、微信或 IRC。请注意检查功能间的逻辑关系是否合理。例如：
    - 不该允许已被管理员从群组中移除的用户在群组中发送消息。
    - 当用户注销后，如果他们决定重新注册使用相同的用户名，他们将无法直接使用先前用户的信息。
- 代码量预计 5000 行，请妥善安排完成计划。
- 请将源码合理地拆分在多个文件中，项目的构建使用：
    - C++：Bazel（推荐）、CMake、Ninja、Makefile（不推荐）中任意一个。
    - Java：Maven/Gradle 任意一个。
- 项目引入外部的日志库或单元测试库：
    - C++：GTest、GLog 等。
    - Java：JUnit、Log4j/Log4j2 等。
- 提高功能必须选择 1~2 个完成。

#### 对使用 Redis 的同学的特殊规则

- 请把 Redis 仅作为服务端的存储后端。
- 下面的几种用法在本次项目中不被接受：
    - 使用 Redis 的订阅发布。
    - 允许客户端连接 Redis。
    - 使用多个 Redis。
- 每人最多仅允许启动一个 Redis 实例。且**仅允许服务端**连接 Redis。

违反上面的规定将无法通过验收。

#### 对使用 Golang 的同学的特殊规则

- 使用 `gin` / Liris / Beego 等开源路由框架组织服务器。
- 使用 `template` 实现前端 web 界面。
- 使用 RESTful API。
    - 使用 Postman / Swagger 管理 API。
- 将项目使用 Docker 进行打包，可通过使用 `docker-compose up -d` 启动整个项目。
